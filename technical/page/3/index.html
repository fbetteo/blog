
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../../../interests/">
      
      
        <link rel="next" href="../../category/estadistica/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.2.7">
    
    
      
        <title>Technical - Franco Betteo</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.046329b4.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.85d0ee34.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CFira+Code:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Fira Code"}</style>
      
    
    
      <link rel="stylesheet" href="../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="youtube" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#technical" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Franco Betteo" class="md-header__button md-logo" aria-label="Franco Betteo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Franco Betteo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Technical
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="youtube" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_1">
    
  
</form>
      
    
    
    
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../.." class="md-tabs__link">
          
  
    
  
  Home

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  Technical posts

        </a>
      </li>
    
  

      
        
  
  
  
    <li class="md-tabs__item">
      <a href="https://sportsjobs.online" class="md-tabs__link">
        
  
    
  
  Job Board

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../nba_salaries/" class="md-tabs__link">
          
  
    
  
  NBA salaries legacy model

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Franco Betteo" class="md-nav__button md-logo" aria-label="Franco Betteo" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    Franco Betteo
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../.." class="md-nav__link">
      
  
  <span class="md-ellipsis">
    Home
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
      
      
  
  
    
  
  
    
    
      
        
      
        
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Technical posts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Technical posts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Technical
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="../../" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Technical
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aprendizaje-estadistico-islr-capitulo-2" class="md-nav__link">
    Aprendizaje Estadístico - ISLR Capitulo 2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esencia-del-algebra-lineal" class="md-nav__link">
    Esencia del Algebra Lineal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funciones-de-probabilidad-y-distribucion" class="md-nav__link">
    Funciones de Probabilidad y Distribucion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion-a-graficos-con-mapas" class="md-nav__link">
    Introduccion a graficos con mapas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-correr-un-proyecto-con-r-en-google-cloud" class="md-nav__link">
    Como correr un proyecto con R en Google Cloud
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#organizacion-de-proyectos" class="md-nav__link">
    Organización de Proyectos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curvas-roc" class="md-nav__link">
    Curvas ROC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-crear-un-blog-con-blogdown-y-netlify" class="md-nav__link">
    Como crear un blog con Blogdown y Netlify
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hola-map-chau-apply" class="md-nav__link">
    Hola MAP. Chau Apply
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cadenas-de-markov" class="md-nav__link">
    Cadenas de Markov
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Archive
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Archive
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2024/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2024
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2022/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2022
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2021/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2021
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2020/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2020
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2019/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2019
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../archive/2018/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2018
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Categories
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Categories
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/estadistica/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    estadistica
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/machine-learning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    machine learning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/statistics/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    statistics
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/python/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Python
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/r/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/algebra/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    algebra
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/matematica/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    matematica
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../category/blog/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    blog
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://sportsjobs.online" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Job Board
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    <li class="md-nav__item md-nav__item--pruned md-nav__item--nested">
      
        
  
  
    <a href="../../../nba_salaries/" class="md-nav__link">
      
  
  <span class="md-ellipsis">
    NBA salaries legacy model
  </span>
  

      
        <span class="md-nav__icon md-icon"></span>
      
    </a>
  

      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#aprendizaje-estadistico-islr-capitulo-2" class="md-nav__link">
    Aprendizaje Estadístico - ISLR Capitulo 2
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#esencia-del-algebra-lineal" class="md-nav__link">
    Esencia del Algebra Lineal
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#funciones-de-probabilidad-y-distribucion" class="md-nav__link">
    Funciones de Probabilidad y Distribucion
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#introduccion-a-graficos-con-mapas" class="md-nav__link">
    Introduccion a graficos con mapas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-correr-un-proyecto-con-r-en-google-cloud" class="md-nav__link">
    Como correr un proyecto con R en Google Cloud
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#organizacion-de-proyectos" class="md-nav__link">
    Organización de Proyectos
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#curvas-roc" class="md-nav__link">
    Curvas ROC
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#como-crear-un-blog-con-blogdown-y-netlify" class="md-nav__link">
    Como crear un blog con Blogdown y Netlify
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#hola-map-chau-apply" class="md-nav__link">
    Hola MAP. Chau Apply
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cadenas-de-markov" class="md-nav__link">
    Cadenas de Markov
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
  <div class="md-content" data-md-component="content">
    <div class="md-content__inner">
      <header class="md-typeset">
        <h1 id="technical">Technical</h1>
      </header>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-05-06 00:00:00">2019-05-06</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/estadistica/" class="md-meta__link">estadistica</a></li>
        
        
          
          <li class="md-meta__item">
            
              8 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="aprendizaje-estadistico-islr-capitulo-2"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/">Aprendizaje Estadístico - ISLR Capitulo 2</a></h2>
<p>Suponemos que las variables que encontramos en un set de datos son generadas a través de un proceso generador de datos (DGP por sus siglas en inglés) cuya expresión es: 
$$ Y = f(X) + \epsilon $$</p>
<p>Donde Y es la variable, en este caso la dependiente o la que queremos explicar. f(X) es una función respecto a otra/s variable/s X (independientes) y <span class="arithmatex">\(\epsilon\)</span> es el error irreducible, es decir un valor aleatorio con media 0 pero que no depende de otras variables, es al azar. Puede referir a errores de medición, cambios inmesurables en las situaciones del experimento o simplemente azar en la generación real de los datos. Cabe destacar que f(X) es desconocida para nosotros y justamente lo que queremos explorar con el análisis estadístico. Puede tenerse suposiciones o conocimiento de la forma funcional (lineal, no lineal, etc) pero en principio no tenemos mayores certezas y esperamos aprender a partir de la muestra que analizamos.</p>
<h4 id="por-que-estimar-fx"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#por-que-estimar-fx">Por qué estimar f(X)?</a></h4>
<p>Los dos principales motivos para interesarse en f(X) son <em>predicción</em> (de Y) e <em>inferencia</em> de los parámetros de f(X).</p>
<h5 id="prediccion"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#prediccion">Predicción</a></h5>
<p>Queremos predecir valores de Y para nuevos datos X. Como <span class="arithmatex">\(\epsilon\)</span> en promedio es 0 podemos aproximar Y de la forma: 
$$ \hat Y = \hat f(X)$$
La precisión de <span class="arithmatex">\(\hat Y\)</span> va a depender del <strong>error reducible</strong> y del <strong>error irreducible</strong>. El primero depende de qué tan bien nos aproximemos a la verdadera f(X) y puede ser potencialmente reducido si utilizamos las técnicas más adecuadas para el caso. El segundo error es justamente irreducible y es porque nuestra aproximación no puede tener en cuenta a <span class="arithmatex">\(\epsilon\)</span>. El término aleatorio introducido por esa variable no lo podemos estimar para cada observación y por lo tanto debemos convivir con ese margen de error.</p>
<p>Suponiendo que tenemos una estimación <span class="arithmatex">\(\hat f\)</span> y un set de datos X puede probarse que:
$$ E(Y - \hat Y)^2 = E[f(X) + \epsilon - \hat f(X)]^2$$
                   $$   \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \     = \underbrace{[f(X) - \hat f(X)]^2}<em>\text{Reducible} + \underbrace{Var(\epsilon)}</em>\text{Irreducible}$$</p>
<p>Donde <span class="arithmatex">\(E(Y-\hat Y)^2\)</span> es el promedio o valor esperado de la diferencia al cuadrado del valor real de Y y de la predicción correspondiente.
<span class="arithmatex">\(Var(\epsilon)\)</span> es la varianza del término de error <span class="arithmatex">\(\epsilon\)</span>.</p>
<h5 id="inferencia"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#inferencia">Inferencia</a></h5>
<p>Este enfoque se basa en entender la relación entre las variables de X y la dependiente. Es necesario entender bien la f(X) elegida para poder interpretar sus coeficientes y poder ver qué variables están asociadas con Y, cómo es esa relación, cuál es la forma de la función f(X), etc para poder actuar sobre las variables X o comprender su efecto aunque no siendo tan exigentes con el poder de predicción de nuestro modelo.</p>
<h4 id="como-estimar-fx"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#como-estimar-fx">Como Estimar f(X)?</a></h4>
<h5 id="metodos-parametricos"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#metodos-parametricos">Métodos Paramétricos</a></h5>
<p>Los métodos paramétricos se conforman por dos etapas.<br />
La primera es asumir o suponer la forma funcional de f(X). Podes definir por ejemplo que f(X) es una función lineal de la forma
$$ f(X) = \beta_0 + \beta_1X_1 + \beta_2X_2 + ... + \beta_pX_p$$  </p>
<p>Una vez definida la forma del modelo la segunda etapa consiste en estimar los parámetros con algún método, a partir de los datos de entrenamiento. En este caso sería estimar todos los <span class="arithmatex">\(\beta\)</span>. Por ejemplo para las funciones lineales se suele utilizar el método de <em>mínimos cuadrados ordinario</em>.<br />
La ventaja de definir una forma funcional es que luego es más sencillo estimar sus parámetro y el problema se reduce a eso finalmente. Por el otro lado, posiblemente la forma que elijamos no sea exactamente igual a la real (DGP) y tengamos que aceptar que va a haber errores debido a eso. Si estamos muy lejos de la forma real esos errores serán groseros. Existen modelos flexibles que permiten ajustar modelos con diferentes formas de f(X) pero en general requieren estimar más parámetros  y son más propensos a sufrir sobreajuste/overfitting que básicamente es ajustarse mucho al ruido o error (<span class="arithmatex">\(\epsilon\)</span>) en los datos de entrenamiento y luego ajustar mal en testeo.  </p>
<h5 id="metodos-no-parametricos"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#metodos-no-parametricos">Métodos No Paramétricos</a></h5>
<p>Los métodos no paramétricos no requieren definir explícitamente una forma funcional de f. Buscan un f que sea lo más cercano posible a los datos sin ser demasiado estricto o flexible. Al no asumir una forma puede cubrir potencialmente un rango mucho mayor. El problema es que al no reducir el problema a estimar parámetros necesitan muchas más observaciones para estimar f de forma medianamente precisa. En general uno tiene que decidir el nivel de "suavidad" del modelo, lo cual afecta que tan variable termina siendo la estimación. Sirve para encontrar el punto de fleixibilidad/rigidez del modelo que queremos para que no sobreajuste (ni falle demasiado).</p>
<h4 id="prediccion-vs-interpretabilidad"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#prediccion-vs-interpretabilidad">Predicción vs Interpretabilidad</a></h4>
<p>Uno puede elegir entre modelos flexibles o más rígidos. Con pocas observaciones a veces uno no puede alejarse mucho de los rígidos pero suponiendo que uno tiene muchos datos, a veces puede igualmente elegir rígidez frente a modelos flexibles que permiten ajustar varias formas de f. 
El motivo es que generalmente los modelos restrictivos son más fáciles de interpretar y se le puede dar un significado claro a sus coeficientes mientras que con formas muy flexibles no es sencillo entender el impacto de las variables de manera individual. La elección va a depender del objetivo del análisis y de qué tan bien o mal nuestros modelos ajustan a los datos.</p>
<h4 id="modelos-supervisados-vs-no-supervisados"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#modelos-supervisados-vs-no-supervisados">Modelos Supervisados vs No Supervisados</a></h4>
<p>Nuestros datos pueden tener una variable dependiente que queremos explicar o predecir en base a un set de variables independientes, con algún modelo a definir. Los casos de este estilo son llamados <em>supervisados</em> porque sabemos la "respuesta" (nuestra variable Y) y podemos validar nuestros modelos contra la realidad.<br />
Si los datos no tienen una variable dependiente lo que se puede hacer es un análisis no supervisado donde por ejemplo lo que se puede hacer es agrupar las observaciones en clusters o grupos. Es decir segmentar en distintas clasificaciones y descubrir patrones. El desafío es que no hay en los datos nada contra qué validarlo, aunque sí contra el conocimiento del dominio o de la temática.</p>
<h4 id="regresion-vs-clasificacion"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#regresion-vs-clasificacion">Regresión vs Clasificación</a></h4>
<p>En los modelos supervisados, nuestra variable dependiente puede ser <em>cuantitativa</em> o <em>cualitativa</em>.<br />
En el primer caso la variable toma valores númericos, como por ejemplo la altura de una persona, el precio de una propiedad, etc. Son problemas de regresión.  <br />
En el segundo caso la variable dependiente puede tomar el valor de una clase o categoría. Por ejemplo, género de una persona, si paga o no paga su deuda, etc. Son problemas de clasificación.</p>
<h4 id="midiendo-el-ajuste-del-modelo"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#midiendo-el-ajuste-del-modelo">Midiendo el ajuste del modelo</a></h4>
<h5 id="regresion"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#regresion">Regresión</a></h5>
<p>Para problemas de regresión una de las medidas más utilizadas es el Error Cuadrático Medio (MSE por sus siglas en inglés).
$$ MSE = \frac{1}{n} \sum_{i=1}^n(y_i - \hat f(x_i))^2 $$</p>
<p>Es básicamente la diferencia promedio entre la realidad y lo que predice nuestro modelo elevado al cuadrado. Esto último es para que los errores sean siempre positivos aunque subestimemos o sobreestimemos (y por su comodidad para cálculos matemáticos).</p>
<p>En primero lugar se calcula este valor con los datos de entrenamiento sin embargo lo que realmente importa es como performa el modelo en datos de testeo, es decir en datos que no fueron utilizados para estimar f(X). Podemos decir que cada modelo debería tener un MSE de entrenamiento y un MSE de testeo. Debido a la posibilidad de sobreajuste y a las diferencias en muestras nada garantiza que el modelo que estimemos con menor MSE en entrenamiento también sea el de menor MSE en testeo. </p>
<p>A medida que aumentamos la flexibilidad de un modelo (sus grados de libertad) el MSE en entrenamiento va a disminuir, ya que tiene más herramientas para ajustarse a los datos pero puede que sobreajuste y por lo tanto no se traduzca en un menor MSE en testeo.</p>
<h4 id="el-tradeoff-entre-sesgo-y-varianza"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#el-tradeoff-entre-sesgo-y-varianza">El tradeoff entre Sesgo y Varianza</a></h4>
<p>No está demostrado en el libro pero es posible descomponer el MSE esperado de una observación de testeo en sesgo de <span class="arithmatex">\(\hat f(x_0)\)</span>, varianza de <span class="arithmatex">\(\hat f(x_0)\)</span> y varianza del error irreducible <span class="arithmatex">\(\epsilon\)</span>.</p>
<div class="arithmatex">\[ E(y_0 - \hat f(x_0))^2 = Var(\hat f(x_0)) + [Sesgo(\hat f(x_0))]^2 + Var(\epsilon)\]</div>
<p>El lado izquierdo de la ecuación es el MSE esperado y coresponde MSE de testeo promedio que obtendríamos si estimaramos f utilizando una gran cantidad de sets de entrenamiento y testearamos cada uno en <span class="arithmatex">\(x_0\)</span>.</p>
<p>Algunas observaciones:</p>
<ul>
<li>El MSE nunca puede ser menor que la varianza de <span class="arithmatex">\(\epsilon\)</span>. Es un término fijo y por eso se lo llama error irreducible.</li>
<li>La varianza es cuanto cambiar <span class="arithmatex">\(\hat f\)</span> si utilizamos otro set de entrenamiento. Siempre va a cambiar con otro set pero idealmente ese cambio no debería ser grande. Modelos muy flexibles tienden a cambiar más frente a distintos sets y son más inestables.</li>
<li>Sesgo es el error provocado por la diferencia entre el modelo elegido y el verdadero proceso generador de los datos. En general modelos más flexibles tienen menor sesgo ya que pueden ajustar mayor variedad de formas funcionales.</li>
<li>Al aumentar la flexibilidad de un modelo en general reducimos el sesgo pero aumentamos la varianza. En general en un primer momento el sesgo suele disminuir a mayor velocidad de lo que aumenta la varianza y por lo tanto el MSE esperado se reduce. Sin embargo llega un punto donde mayor flexibilidad reduce menos el sesgo que lo que aumenta la varianza y el MSE empieza a aumentar. Es el primer indicio de sobreajuste. Por eso se habla de tradeoff o "balance".</li>
<li>En la realidad donde la verdadera f del DGP es inobservable no suele ser posible calcular explícitamente el MSE de testeo, el sesgo o la varianza de un método estadístico pero el proceso de fondo aplica y siempre debemos tener en mente el tradeoff.</li>
</ul>
<h5 id="clasificacion"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#clasificacion">Clasificación</a></h5>
<p>Para problemas de clasificación uno de los enfoques más frecuentes para cuantificar la precisión de una función estimada <span class="arithmatex">\(\hat f\)</span> se suele usar el porcentaje de error en los datos de entrenamiento.</p>
<p>$$ \frac{1}{n} \sum_{i=1}^nI(y_i \neq \hat y_i) $$
Básicamente es el porcentaje de observaciones clasificadas erroneamente.
Al igual que con MSE es de gran importance el porcentaje de error en los datos de testeo.</p>
<h5 id="clasificador-de-bayes"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#clasificador-de-bayes">Clasificador de Bayes</a></h5>
<p>No lo demuestra en el libro pero la mejor manera de reducir el porcentaje de error en test es asignar a cada observación la clase con mayor probabilidad (según el DGP ). Es un concepto muy sencillo, dado X, asignar la clase cuya chance de acierto sea mayor.</p>
<p>$$ Pr(Y = j | X = x_0) $$
El porcentaje de error de Bayes (es decir el error luego de clasificar siguiendo esa regla) es análogo al Error Irreducible de regresión.
Hay que tener en cuenta que la distribución condicional de Y dado X no lo sabemos en los casos aplicados en la vida real, sería como saber la función f(X) o el DGP y por lo tanto no lo podemos calcular.</p>
<h5 id="k-vecinos-mas-cercanos-knn-en-ingles"><a class="toclink" href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/#k-vecinos-mas-cercanos-knn-en-ingles">K vecinos más cercanos (KNN en inglés)</a></h5>
<p>Idealmente uno querría aplicar el clasificador de Bayes pero es imposible ya que no sabemos la distribución real de los datos (es justamente lo que queremos estimar). KNN intenta aproximarse a la distribución condicional para clasificar las observaciones. Lo que hace este método es, dado un valor de K que elegimos nosotros, clasificar cada nueva observación según la clase mayoritaria entre las K observaciones más cercanas a esta.</p>
<p>$$ Pr(Y = j | X = x_0) = \frac{1}{K} \sum_{i \in N_0} I(y_i = j) $$
El valor que seleccionemos de K afecta en gran medida las predicciones del modelo. Un K menor hace más variable el modelo ya que selecciona menos observaciones y por lo tanto pocos cambios en el set de entrenamiento cambian la clasificación. Suele reducir el sesgo pero ser mas variable. Es análogo a hacer más flexible un modelo en regresión. Valores de K más grandes seleccionan puntos en un entorno más abarcativo y por lo tanto suele ser más constante pero con sesgo superior.<br />
Al igual que en regresión hay que tener cuidado con el sobreajuste. Reducir K garantiza menos errores en los datos de entrenamiento pero pasado un umbral la varianza aumenta en mayor medida y el porcentaje de error en test se incrementa.</p>
<p><strong>Conclusión</strong>: Tanto en Clasificación como en Regresión la elección del nivel de flexibilidad  es central en el éxito de método de aprendizaje estadístico.</p>

    <nav class="md-post__action">
      <a href="../../2019/05/06/aprendizaje-estad%C3%ADstico-islr-capitulo-2/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-04-20 00:00:00">2019-04-20</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/matematica/" class="md-meta__link">matematica</a>, 
              <a href="../../category/algebra/" class="md-meta__link">algebra</a></li>
        
        
          
          <li class="md-meta__item">
            
              7 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="esencia-del-algebra-lineal"><a class="toclink" href="../../2019/04/20/esencia-del-algebra-lineal/">Esencia del Algebra Lineal</a></h2>
<p>El álgebra lineal está por todas partes en estadística y data science. Matrices, vectores y transformaciones son términos que se escuchan seguido y están detrás de muchos de los métodos y algoritmos que se usan hoy por hoy. Aunque no sea necesario saber del tema para correr un modelo empaquetado en una librería de R, es muy útil entender lo que hacemos realmente ya que nos permite ver a los modelos como algo lógico y no una caja negra mágica.</p>
<p>Hay una serie de videos excelente en inglés que mediante visualizaciones y animaciones permite entender la intuición de muchos de los conceptos básicos, que solo con un libro puede ser medio críptico o poco imaginable.
Para el que le interese: <a href="https://www.youtube.com/playlist?list=PLZHQObOWTQDPD3MizzM2xVFitgF8hE_ab">ESSENCE OF LINEAR ALGEBRA</a> por 3Blue1Brown.</p>
<p>Este post, aunque quizás medio desordenado y sin mucha prolijidad, es una recopilación de algunas notas. Puede que queden términos en inglés intercalados.</p>
<h3 id="matrices-y-vectores"><a class="toclink" href="../../2019/04/20/esencia-del-algebra-lineal/#matrices-y-vectores">Matrices y vectores</a></h3>
<ul>
<li>Vector vive en <em>n</em> dimensiones.</li>
<li>Suma de vectores es combinación lineal</li>
<li>En <span class="arithmatex">\(R^{2}\)</span> <span class="arithmatex">\(\hat \imath = \left&lt; 1, 0 \right&gt; \text{y} \hat \jmath = \left&lt; 0, 1 \right&gt;\)</span> forman una base. Cualquier punto es una combinación lineal de ellos.     </li>
<li>Span es el espacio que pueden generar x vectores. <span class="arithmatex">\(R^{2}\)</span> es el span de  <span class="arithmatex">\(\left&lt; 1, 0 \right&gt; \left&lt; 0, 1 \right&gt;\)</span></li>
<li>Vector puede ser pensado como una flecha desde el origen (0,0) a las coordenadas que lo identifican. O como un punto directo en las coordenadas..</li>
<li>Matriz es una transformación. Lleva un vector a otro punto. Si transformamos cada posible vector de un espacio por la matriz podemos ver como el espacio es transformado. Ej: rotar, invertir, estirar.</li>
<li>Si transformamos una base, cada punto nuevo puede generarse transformando la nueva base. <br />
Por ej: <span class="arithmatex">\(z = \left&lt; 3, 2 \right&gt; \text{es } 3\begin{bmatrix} 1 \\ 0 \end{bmatrix} + 2\begin{bmatrix} 0 \\ 1 \end{bmatrix} = 3\hat \imath + 2\hat \jmath\)</span><br />
Aplicando la transformación de la matriz A = <span class="arithmatex">\(\begin{pmatrix} A &amp; B \\ C &amp; D \end{pmatrix} \text{obtenemos los nuevos vectores base } \hat \imath^{*} \text{y } \hat \jmath^{*}\)</span><br />
<span class="arithmatex">\(z^{*} = 3\hat \imath^{*} + 2\hat \jmath^{*}\)</span> </li>
<li>Multiplicar 2 matrices es transformar un espacio con la primera matriz ( desde la derecha) y luego transformar el resultado por la segunda matriz. Ej: Rotar un espacio y luego invertirlo.</li>
<li>AB != BA -&gt; El orden de las transformaciones importa y se lee de derecha a izquierda.</li>
<li>
<p>La matriz (transformación) ya dice como van a ser las nuevas bases.<br />
Si la matriz es <span class="arithmatex">\(\begin{pmatrix} A &amp; B \\ C &amp; D \end{pmatrix}\)</span>, el nuevo <span class="arithmatex">\(\hat \imath^{*}\)</span> es <span class="arithmatex">\(\begin{bmatrix} A \\ C \end{bmatrix}\)</span> y <span class="arithmatex">\(\hat \jmath^{*}\)</span> es <span class="arithmatex">\(\begin{bmatrix} B \\ D \end{bmatrix}\)</span><br />
Ej: <span class="arithmatex">\(z = \left&lt; 3, 2 \right&gt;  z^{*} =  \begin{bmatrix} A &amp; B \\ C &amp; D \end{bmatrix}\begin{bmatrix} 3 \\ 2 \end{bmatrix} = \begin{bmatrix} 3A + 2B \\ 3C + 2D \end{bmatrix}\)</span><br />
Se puede ver también como:  <span class="arithmatex">\(<span class="arithmatex">\(z = 3\hat \imath + 2\hat \jmath \text{  }  z^{*} = 3\hat \imath^{*} + 2\hat \jmath^{*} = 3\begin{bmatrix} A \\ C \end{bmatrix} + 2\begin{bmatrix} B \\ D \end{bmatrix} = \begin{bmatrix} 3A + 2B \\ 3C + 2D \end{bmatrix}\)</span>\)</span>
&nbsp;</p>
</li>
<li>
<p>!!!. Las transformaciones afectan el area (en R2, el volumen en R3..) de las figuras en el espacio (todas por igual). El <em>DETERMINANTE</em> de una matriz mide ese cambio.</p>
</li>
<li>Si el determinante <strong>es 0</strong> significa que se perdió una dimensión o que todo se comprimió. Pasa de <span class="arithmatex">\(R^{2}\)</span> a una recta (o a un punto!)</li>
<li>Si el determinante <strong> es &lt; 0</strong> significa que el espacio se invirtió (en sentido.. como dar vuelta una hoja) pero |DET| siguen siendo el cambio en el area.</li>
<li>A^-1^A = I -&gt; una transformación que no hace nada.</li>
<li>
<p>Si DET(A) = 0 no existe la matriz inversa. Ej. <span class="arithmatex">\(R^{2}\)</span> -&gt; si det(A) = 0 la transformación lleva el espacio a una recta. No hay función que lleve cada vector de la recta a un punto en <span class="arithmatex">\(R{2}\)</span>. No hay vuelta atrás.
&nbsp;
&nbsp;</p>
</li>
<li>
<p>Si una transformación lleva todos los puntos a una recta tiene rango 1, si lleva a un plano rango 2, y así.. <strong>RANGO</strong> es el número de dimensiones del output. Rango completo es cuando mantiene las dimensiones del input.</p>
</li>
<li>El conjunto de posibles outputs de <span class="arithmatex">\(A\vec v\)</span> es el Column Space = Span de las columnas</li>
<li>Cuando perdés dimensiones por la transformación todo un conjunto de vectores pasa a ser (0,0). Eso se llama <strong>Null Space</strong> o <strong>Kernel</strong></li>
<li>Matrices no cuadradas cambian la dimensión del espacio.<br />
$$ \begin{bmatrix} A &amp; D \ B &amp; E \ C &amp; F \end{bmatrix} \begin{bmatrix} 1 \ 1 \end{bmatrix} = \begin{bmatrix} A + D \ B + E \ C + F \end{bmatrix} $$ 
Quedan todos los puntos de <span class="arithmatex">\(R^{2}\)</span> en un plano en el espacio <span class="arithmatex">\(R^{3}\)</span>. De acá viene la restricción para multiplicar matrices. La cantidad de columnas de la transformación tiene que ser igual a la dimensión del input</li>
</ul>
<h4 id="dot-product-o-producto-interno"><a class="toclink" href="../../2019/04/20/esencia-del-algebra-lineal/#dot-product-o-producto-interno">DOT PRODUCT o PRODUCTO INTERNO</a></h4>
<ul>
<li>Dot product entre dos vectores equivale a proyectar uno en el otro y multiplicar sus largos. <span class="arithmatex">\(\vec A \cdot \vec B = |A^{*}| * |B|\)</span><br />
<span class="arithmatex">\(A^{*}\)</span> es el vector A proyectado en B.</li>
<li><span class="arithmatex">\(\vec B\)</span> es un vector 2D pero también se lo puede ver como una matriz 1x2 que lleva del 2D a la recta.<br />
<span class="arithmatex">\(\vec B \cdot \vec A = B \vec A \text{que sería llevar A al espacio transformado por B.}\)</span><br />
<span class="arithmatex">\(B = \begin{bmatrix} B_x &amp; B_y \end{bmatrix}\)</span> tiene en sus columnas donde queda <span class="arithmatex">\(\hat \imath \text{y } \hat \jmath\)</span> (los vectores unitarios) al ser transformados o algun valor escalado de esto.<br />
<span class="arithmatex">\(\vec A \cdot \vec B\)</span> es el valor de A en la recta a la que te lleva la transformación B.</li>
<li>Es equivalente proyecto B en A.</li>
<li>Si Dot Product &gt; 0, tienen dirección similar.</li>
<li>Si Dot Product = 0, son ortogonales - proyección que cae en el origen.</li>
<li>Si Dot Product &lt; 0, tienen direcciones opuestas.</li>
</ul>
<p>&nbsp;
&nbsp;</p>
<h4 id="cross-product"><a class="toclink" href="../../2019/04/20/esencia-del-algebra-lineal/#cross-product">CROSS PRODUCT</a></h4>
<ul>
<li>Está definido para vectores en <span class="arithmatex">\(R^{3}\)</span></li>
<li>El cross product <span class="arithmatex">\(\vec u \times \vec v\)</span> es el area del paralelograma que se puede imaginar con las paralelas de los vectores (imaginandolo en <span class="arithmatex">\(R^{2}\)</span>. El signo depende de la orientación de los vectores. El vector de la "derecha" tiene que estar primero para que el cross product sea &gt; 0.</li>
<li>En realidad el paralelograma formado por dos vectores en R^3^ tiene area equivalente al <strong>Largo</strong> del vector output de su cross product. Ese vector es ortogonal al paralelograma.</li>
</ul>
<p>&nbsp;
&nbsp;</p>
<h4 id="cambio-de-base"><a class="toclink" href="../../2019/04/20/esencia-del-algebra-lineal/#cambio-de-base">CAMBIO DE BASE</a></h4>
<ul>
<li>Distintos sistemas de coordenadas definen <span class="arithmatex">\(\hat \imath = \left&lt; 1, 0 \right&gt;, \hat \jmath \left&lt; 0, 1 \right&gt;\)</span> como algo distinto. <strong>NO</strong> hay una sola "grilla" válida. El espacio no tiene grilla predeterminada.</li>
<li>Un mismo vector tiene distintas coordenadas según el sistema de bases desde donde se lo mire.</li>
<li>Para pasar de una base a otra se aplica una transformación lineal.<br />
Si <span class="arithmatex">\(\vec v\)</span> es un vector que queremos pasar de una base a otra, lo transformamos por la nueva base.<br />
Y <span class="arithmatex">\(\hat \imath^{*} =  \left&lt; \hat \imath^{*}_1, \hat \imath^{*}_2 \right&gt;, \hat \jmath^{*} =  \left&lt; \hat \jmath^{*}_1, \hat \jmath^{*}_2 \right&gt;\)</span>
Entonces:
<span class="arithmatex">\(<span class="arithmatex">\(\begin{bmatrix} \hat \imath^{*}_1 &amp; \hat \jmath^{*}_1 \\ \hat \imath^{*}_2 &amp; \hat \jmath^{*}_2 \end{bmatrix} \begin{bmatrix} v_1 \\ v_2 \end{bmatrix} = \begin{bmatrix} v^{*}_1 \\ v^{*}_2 \end{bmatrix}\)</span>\)</span><br />
Donde <span class="arithmatex">\(\begin{bmatrix} v^{*}_1 \\ v^{*}_2 \end{bmatrix}\)</span> es el vector en la nueva base, es decir, serían las coordenadas del vector <span class="arithmatex">\(\vec v\)</span> en el nuevo sistema de coordenadas y representando ese punto bajo el sistema de coordenadas original. -&gt; Como se vería <span class="arithmatex">\(\vec v\)</span> en la nueva base? desde un punto de vista de la base original.<br />
La matriz transforma un vector siguiendo en el lenguaje de la base original.<br />
Ej: Si <span class="arithmatex">\(\vec v\)</span> es (1,2) en el sistema cartesiano típico y aplicamos la matriz de cambio de base, un vector (1,2) bajo otros ejes se ubicaría en otro punto del espacio. Qué punto es ese bajo el sistema cartesiano? Es (1,2) en el nuevo, pero queremos saber su equivalente en el sistema original.</li>
<li>Por otra parte si queremos saber que coordenadas tomaría el vector <span class="arithmatex">\(\vec v\)</span> bajo otra base debemos multiplicar por la inversa de la transformación. Transforma el vector al lenguaje de la nueva base.
Responde a la pregunta. Qué coordenadas toma el punto V_1, V_2 del espacio en el sistema nuevo?
&nbsp;</li>
<li>Para aplicar una transformación a otra base conviene llevar el vector a transformar a la base original, transformar y reconvertir a la nueva base.
$$ [A]^{-1}[T][A]\vec v = \vec v^{*}$$<br />
A lo expresa en términos de la base original, luego se le aplica la transformación T y luego se lo devuelve al lenguaje de la nueva transformación.</li>
</ul>
<p>&nbsp;
&nbsp;</p>
<h4 id="eigenvalues-y-eigenvectors-autovalores-y-autovectores"><a class="toclink" href="../../2019/04/20/esencia-del-algebra-lineal/#eigenvalues-y-eigenvectors-autovalores-y-autovectores">Eigenvalues y Eigenvectors (autovalores y autovectores)</a></h4>
<ul>
<li>!!! Al aplicar una transformación lineal a un espacio algunos vectores no cambian de dirección, solo se estiran o contraen pero sobre la misma recta. El resto sí se mueve. Los que se mantienen son los eigenvectors, y su factor de expansión o contracción es su eigenvalue.<br />
Si A es la matriz de transformación, <span class="arithmatex">\(\vec v\)</span> es un eigenvector y <span class="arithmatex">\(\lambda\)</span> su eigenvalue.
$$ A\vec v = \lambda \vec v$$  </li>
<li>Si una transformación es una matriz diagonal, lo único que hace es estirar <span class="arithmatex">\(\hat \imath \text{y } \hat \jmath\)</span> por lo tanto los vectores base son eigenvectors y la diagonal son los eigenvalues.</li>
<li>Si cambiamos la base a una formada por los eigenvectors (que spanean el espacio) de la matriz podemos aplicar la transformación (la matriz original de donde salieron los eigenvectors) a esta nueva base y solo la va a estirar, por lo tanto es una transformación diagonal, que permite calculos mucho más fácil. Después habría que volver a la base original.<br />
A -&gt; Matriz de transformación
E -&gt; Matriz de autovectores que forman la nueva base <span class="arithmatex">\(\begin{bmatrix} e_11 &amp; e_21 \\ e_12 &amp; e_22 \end{bmatrix}\)</span>
D -&gt; Matriz Diagonal cuyos valores son los eigenvalues
$$ E^{-1}AE=D$$</li>
</ul>
<p>E cambia la base a eigenvectors (expresado en la base original), A aplica transformación y E^-1^ lo lleva al lenguaje de la nueva base (queda expresado en las nuevas coordenadas)
&nbsp;
&nbsp;</p>
<h4 id="espacios-vectoriales-abstractos"><a class="toclink" href="../../2019/04/20/esencia-del-algebra-lineal/#espacios-vectoriales-abstractos">Espacios Vectoriales Abstractos</a></h4>
<ul>
<li>!!! Ver <em>funciones</em> como un tipo especial de vectores.</li>
<li>Las funciones se pueden sumar y escalar <span class="arithmatex">\(f(x) + g(x) \text{y } 2f(x)\)</span></li>
<li>Existen transformaciones lineales de funciones, convierten una función en otra. También conocidas como "operadores"</li>
<li>Para que una transformación sea lineal tiene que cumplir aditividad y mulitplicación por escalar<br />
$$ L(\vec v + \vec  w) = L(\vec v) + L(\vec w)$$
$$ L(c\vec v) = cL(\vec v)$$</li>
<li>En general cualquier espacio que cumpla los axiomas los espacios vectoriales puede ser considerado uno.</li>
</ul>

    <nav class="md-post__action">
      <a href="../../2019/04/20/esencia-del-algebra-lineal/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-04-03 00:00:00">2019-04-03</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/estadistica/" class="md-meta__link">estadistica</a>, 
              <a href="../../category/r/" class="md-meta__link">R</a></li>
        
        
          
          <li class="md-meta__item">
            
              4 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="funciones-de-probabilidad-y-distribucion"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/">Funciones de Probabilidad y Distribucion</a></h2>
<h3 id="variables-aleatorias"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/#variables-aleatorias">Variables Aleatorias</a></h3>
<p>Consideremos un experimento cuyo espacio muestral denominaremos <code>S</code>. <br />
Una funcion valuada en el dominio de los reales definida en <code>S</code> es una variable aleatoria. </p>
<p>En otras palabras es una función que asigna a cada resultado posible de un experimento un valor real.</p>
<p>Por ejemplo:</p>
<blockquote>
<p>Si el experimento es lanzar una moneda 10 veces hay 2^10^ combinaciones posibles de caras (o) y cruz (x).<br />
 Si definimos la variable aleatoria X como cantidad de caras entonces X(s) será la cantidad de caras del experimento.<br />
 Si s resulta ser la secuencia <code>ooxxxoxxxo</code> entonces X(s) = 4.</p>
</blockquote>
<h3 id="distribucion-de-una-variable-aleatoria"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/#distribucion-de-una-variable-aleatoria">Distribucion de una variable aleatoria</a></h3>
<p>Si tenemos la distribución de probabilidad del espacio muestral del experimento podemos determinar la distribución de probabilidad de cualquier variable aleatoria válida.</p>
<p>Volviendo al ejemplo de la moneda. Dijimos que hay 2^10^ combinaciones de cara o cruz.
La cantidad de combinaciones de X caras en 10 lanzamientos es <span class="arithmatex">\(P(X = x) = \binom{n}{x} \frac{1}{2^{10}}\)</span>  para <span class="arithmatex">\(x = 0,1,2,..,10\)</span></p>
<h3 id="distribuciones-discretas"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/#distribuciones-discretas">Distribuciones Discretas</a></h3>
<p>Una variable aleatoria tiene una distribución discreta si solo puede tomar valores de una secuencia (generalmente finita pero puede no serlo). </p>
<ul>
<li>La función de probabilidad le otorga una probabilidad puntual a cada valor de esa secuencia.</li>
<li>Los valores por fuera de la secuencia tienen probabilidad  = 0</li>
<li>La suma de todas las probabilidades tiene que ser 1</li>
</ul>
<h4 id="distribucion-uniforme"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/#distribucion-uniforme">Distribución Uniforme</a></h4>
<p>En el caso de la dsitribución uniforme, supongamos que la variable puede tomar valores de 1 a k.
La función de probabilidad será <span class="arithmatex">\(f(x) = \frac{1}{k}\)</span> para x = 1,2,...,k. 
Y 0 para todos los otros valores.</p>
<blockquote>
<p>si k = 10<br />
Los valores de la variable serán cualquier entero entre 1 y 10<br />
Cada valor tendrá probabilidad <span class="arithmatex">\(\frac{1}{10}\)</span></p>
</blockquote>
<h4 id="distribucion-binomial"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/#distribucion-binomial">Distribución Binomial</a></h4>
<p>En el caso de la dsitribución binomial se asumen dos posibles resultados, uno con probabilidad <em>p</em> y su contraparte con probabilidad <em>1-p</em>.<br />
Por ejemplo la probabilidad p de que una máquina genere un producto defectuoso y 1-p de que sea no defectuoso.<br />
Si una máquina produce <em>n</em> productos va a generar X productos defectuosos. La variable aleatoria X tendrá una distribución discreta y sus posibles valores irán de 0 a n.<br />
Para cualquier valor de x (entre 0 y n), la probabilidad de que la máquina genere x productos defectuosos entre los n producidos (de una secuencia particular) es <span class="arithmatex">\(p^{x}q^{(n-x)}\)</span><br />
Como existen <span class="arithmatex">\(\binom{n}{x}\)</span> distintas secuencias posibles con x defectuosos entre los n productos tenemos que:<br />
<span class="arithmatex">\(Pr(X = x) = \binom{n}{x}p^{x}q^{(n-x)}\)</span><br />
La función de probabilidad será <span class="arithmatex">\(f(x) = \binom{n}{x}p^{x}q^{(n-x)}\)</span> para x = 0,1,2,...,n. 
Y 0 para todos los otros valores.</p>
<p>Para usar esta distribución en R tenemos los siguientes comandos:</p>
<ul>
<li>Para generar <em>n</em> escenarios al azar donde se producen <em>size</em> productos con probabilidad <em>p</em> de ser defectuosos.
El resultado es la variable x por escenario. Es decir la cantidad de defectuosos.<br />
En el primer escenario x = 0, en el segundo x = 1 y así.</li>
</ul>
<pre><code class="language-r">set.seed(1)
rbinom(n = 10, size = 5, p = 0.2 )
</code></pre>
<pre><code>##  [1] 0 1 1 2 0 2 3 1 1 0
</code></pre>
<pre><code class="language-r"># random binomial
</code></pre>
<ul>
<li>Para saber la probabilidad de obtener <em>x</em> productos defectuosos si una máquina produce <em>size</em> productos y la probabilidad de que produzca un defectuoso es <em>prob</em>.<br />
Hay probabilidad de 0.0264 de obtener 5 defectuosos si producimos 10 con probabilidad 0.2.</li>
</ul>
<pre><code class="language-r">dbinom(x = 5, size = 10, prob = 0.2)
</code></pre>
<pre><code>## [1] 0.02642412
</code></pre>
<ul>
<li>Para saber la probabilidad acumulada de obtener <em>q</em> <strong>o menos</strong> productos defectuosos si la máquina fabrica <em>size</em> objetos, con probabilidad de defecto <em>prob</em>.
Hay probabiliad de 0.879 de obtener 3 o menos defectuosos si la máquina produce 10 objetos con probabilidad 0.2 de defecto.
Es decir, es la suma de obtener exactamanete 0 defectuosos, más exactamente 1 defectuoso, más exactamnente 2 defectuosos, más exactamente 3 defectuosos.</li>
</ul>
<pre><code class="language-r">pbinom(q = 3, size = 10, prob = 0.2)
</code></pre>
<pre><code>## [1] 0.8791261
</code></pre>
<h3 id="distribuciones-continuas"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/#distribuciones-continuas">Distribuciones Continuas</a></h3>
<p>Una variable aleatoria X tiene una distribución continua si existe una función <code>f</code> definida en los reales tal que para algún intervalo A<br />
<span class="arithmatex">\(Pr(X \in A) = \int_{A} f(x)\)</span>  </p>
<p>La función <code>f</code> es la <em>función de densidad de probabilidad</em>. PDF por sus siglas en inglés.<br />
La probabilidad de que X tome algún valor en un intervalo se encuentra integrando <code>f</code> en ese rango.</p>
<p>Por ejemplo para la distribución uniforme en un intervalo <em>(a,b)</em> podemos ver que su pdf (o función de densidad de probabilidad) es<br />
<span class="arithmatex">\(f(x) = \begin{cases}\frac{1}{b-a} &amp; \text{para } a \leq x \leq b \\ 0 &amp; \text{resto}\\  \end{cases}\)</span></p>
<h4 id="distribucion-normal"><a class="toclink" href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/#distribucion-normal">Distribución Normal</a></h4>
<p>Para la distribución Normal tenemos los siguientes comandos:  </p>
<ul>
<li>Para obtener <em>n</em> variables aleatorias provenientes de una normal con media <em>mean</em> y desvío <em>sd</em></li>
</ul>
<pre><code class="language-r">set.seed(1)
rnorm(n = 5, mean = 10, sd = 2)
</code></pre>
<pre><code>## [1]  8.747092 10.367287  8.328743 13.190562 10.659016
</code></pre>
<ul>
<li>Para obtener el valor de la pdf de la normal para algún valor de X en particular.
Recuerden que no es una probabilidad, solo es el valor de la función. Las probabilidad se encuentra integrando la función en el intervalo deseado.<br />
Si graficáramos los valores de dnorm para el intervalo -3,3 obtendríamos la forma típica de la normal.</li>
</ul>
<pre><code class="language-r">dnorm(0.5, mean = 0, sd = 1)
</code></pre>
<pre><code>## [1] 0.3520653
</code></pre>
<ul>
<li>Para obtener la probabilidad acumulada hasta determinado punto. También conocido como <em>Función de Distribución</em> o <em>Función de Distribución Acumulada</em> <strong>C.D.F. por sus siglas en ingles</strong>
Por ejemplo, cual es la probabilidad de obtener un valor igual o menos a 1.5 si tomamos una muestra de una normal estándar </li>
</ul>
<p><span class="arithmatex">\(N \sim (0,1)\)</span></p>
<pre><code class="language-r">pnorm(q = 1.5, mean = 0, sd = 1)
</code></pre>
<pre><code>## [1] 0.9331928
</code></pre>
<p>Hay 93.31% de chances de obtener un valor inferior a 1.5 si tomamos una muestra al azar de una normal con media 0 y desvío 1.</p>
<ul>
<li>La inversa también se puede calcular facilmente en R. Que valor debe tomar la variable aleatoria normal si deseo tenes un 93.31% de chances de obtener un valor menor o igual a ese?</li>
</ul>
<pre><code class="language-r">qnorm(p = 0.9331, mean = 0, sd = 1)
</code></pre>
<pre><code>## [1] 1.499284
</code></pre>
<p>La diferencia respecto al código anterior es porque redondeamos la probabilidad.</p>

    <nav class="md-post__action">
      <a href="../../2019/04/03/funciones-de-probabilidad-y-distribucion/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2019-03-30 00:00:00">2019-03-30</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/r/" class="md-meta__link">R</a></li>
        
        
          
          <li class="md-meta__item">
            
              6 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="introduccion-a-graficos-con-mapas"><a class="toclink" href="../../2019/03/30/introduccion-a-graficos-con-mapas/">Introduccion a graficos con mapas</a></h2>
<h3 id="data"><a class="toclink" href="../../2019/03/30/introduccion-a-graficos-con-mapas/#data">Data</a></h3>
<p>Vamos a ver un ejemplo sencillo para representar información visualmente sobre mapas. En este caso un pequeño dataset de incendios forestales en Argentina de 2012 a 2015. La idea es usar ggplot y mantener el enfoque de gráficos por capas.</p>
<p>Vamos a necesitar.</p>
<pre><code>&gt; tidyverse
&gt; rgdal
&gt; rgeos
</code></pre>
<p>Tendremos como input las provincias, departamento, cantidad de focos por incendio, area afectada y año de inicio y fin.
Cada observación es un incendio.</p>
<p>Para este ejemplo nos vamos a centrar en las provincias, los focos y su efecto sin importar la fecha.</p>
<p>Empezamos cargando la data.</p>
<pre><code class="language-r">library(tidyverse)
# Load Raw data
raw &lt;- read.csv(&quot;../../static/post/2019-03-30-introduccion-a-graficos-en-mapas/focosincendio.csv&quot;, sep = &quot;;&quot;)
raw &lt;- as.tibble(raw)
</code></pre>
<pre><code>## Warning: `as.tibble()` was deprecated in tibble 2.0.0.
## i Please use `as_tibble()` instead.
## i The signature and semantics have changed, see `?as_tibble`.
</code></pre>
<pre><code class="language-r">glimpse(raw)
</code></pre>
<pre><code>## Rows: 120
## Columns: 11
## $ pais_id         &lt;int&gt; 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32,~
## $ pais            &lt;chr&gt; &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina&quot;, &quot;Argentina~
## $ provincia_id    &lt;int&gt; 6, 14, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 18, 30, 30, 30, 30, 30, 30, 30, 30, 30, ~
## $ provincia       &lt;chr&gt; &quot;Buenos Aires&quot;, &quot;Córdoba&quot;, &quot;Corrientes&quot;, &quot;Corrientes&quot;, &quot;Corrientes&quot;, &quot;Corrientes&quot;, &quot;Corrientes&quot;, &quot;Corrientes&quot;, &quot;Corrientes&quot;, &quot;C~
## $ departamento_id &lt;int&gt; 833, 14, 56, 28, 28, 28, 70, 84, 84, 84, 112, 112, 119, 119, 126, 147, 154, 154, 161, 168, 168, 168, 168, 8, 15, 15, 15, 15, 28~
## $ departamento    &lt;chr&gt; &quot;Tres Arroyos&quot;, &quot;Calamuchita&quot;, &quot;General Alvear&quot;, &quot;Concepción&quot;, &quot;Concepción&quot;, &quot;Concepción&quot;, &quot;Goya&quot;, &quot;Itizaingó&quot;, &quot;Ituzaingo&quot;, &quot;I~
## $ sup_afectada    &lt;dbl&gt; 2400.00, 50.00, 257.00, 130.00, 5.00, 146.00, 30.00, 294.30, 378.00, 158.00, 300.00, 450.00, 450.00, 15.00, 20.00, 141.00, 295.~
## $ uni_med_id      &lt;chr&gt; &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;ha&quot;, &quot;~
## $ cant_focos      &lt;int&gt; 1, 1, 1, 2, 1, 1, 1, 3, 1, 3, 1, 1, 5, 2, 2, 1, 3, 1, 1, 18, 2, 3, 2, 1, 0, 0, 1, 7, 0, 2, 1, 0, 0, 0, 5, 10, 10, 3, 1, 1, 1, 1~
## $ año_inicial     &lt;int&gt; 2014, 2015, 2012, 2012, 2013, 2015, 2012, 2012, 2013, 2014, 2012, 2013, 2012, 2013, 2015, 2012, 2012, 2014, 2012, 2012, 2013, 2~
## $ año_final       &lt;int&gt; 2014, 2015, 2012, 2012, 2013, 2015, 2012, 2012, 2013, 2014, 2012, 2013, 2012, 2013, 2015, 2012, 2012, 2014, 2012, 2012, 2013, 2~
</code></pre>
<p>Exploramos un poco el dataset. Lo que nos vas a interesar represetnar es la segunda parte del código. Variables agregadas a nivel provincia.</p>
<pre><code class="language-r"># Generate Summary to Explore
sum_year &lt;- raw %&gt;% group_by(año_inicial) %&gt;%
  summarise(focos = sum(cant_focos), sup = sum(sup_afectada, na.rm = TRUE)) %&gt;%
  mutate(sup_prom = sup/focos)

# Actual data to be plotted
sum_prov &lt;- raw %&gt;% group_by(provincia) %&gt;%
  summarise(focos = sum(cant_focos), sup = sum(sup_afectada, na.rm = TRUE)) %&gt;%
  mutate(sup_prom = sup/focos) %&gt;%
  arrange(desc(sup_prom)) %&gt;%
  mutate(provincia = as.character(provincia))

head(sum_prov)
</code></pre>
<pre><code>## # A tibble: 6 x 4
##   provincia    focos   sup sup_prom
##   &lt;chr&gt;        &lt;int&gt; &lt;dbl&gt;    &lt;dbl&gt;
## 1 Buenos Aires     1 2400    2400  
## 2 Corrientes      55 5440.     98.9
## 3 Misiones        10  679      67.9
## 4 Córdoba          1   50      50  
## 5 Entre Ríos      12  594      49.5
## 6 Jujuy           62 2721.     43.9
</code></pre>
<p>Tenemos por provincia la cantidad de focos y la superficie  afectada. Vamos a usar la superficie promedio por foco para visualizar la magnitud de cada foco de incendio.</p>
<p>Ahora llega lo importante. ¿Cómo representar esta data provincial en un mapa de Argentina?</p>
<h2 id="mapa"><a class="toclink" href="../../2019/03/30/introduccion-a-graficos-con-mapas/#mapa">Mapa</a></h2>
<p>Necesitamos un <strong>ShapeFile</strong> de Argentina, que basicamente es el tipo de archivo que se usa para representar mapas en gráficos. Contiene divisiones del país (provincias) con sus respectivas coordenadas y nombres.</p>
<p>Utilizaremos data descargada del siguiente link.
url &lt;- "http://biogeo.ucdavis.edu/data/diva/adm/ARG_adm.zip"</p>
<p>Lo descargué y deszipee en la computadora. Lo leemos con una librería particular <em>RGDAL</em>.</p>
<p>dsn contiene la ruta a la carpeta con los archivos del shapefile.
Layer apunta a al set de archivos que contiene la data que queremos. Generalmente hay otros sets con información no relevante al gráfico.</p>
<pre><code class="language-r">argentina &lt;- rgdal::readOGR(dsn = &quot;../../static/post/2019-03-30-introduccion-a-graficos-en-mapas/ARG_adm&quot;, layer = &quot;ARG_adm1&quot;, use_iconv=TRUE, encoding='UTF-8')
</code></pre>
<pre><code>## OGR data source with driver: ESRI Shapefile 
## Source: &quot;D:\DataScience\StatsBlog\blogStats\static\post\2019-03-30-introduccion-a-graficos-en-mapas\ARG_adm&quot;, layer: &quot;ARG_adm1&quot;
## with 24 features
## It has 9 fields
## Integer64 fields read as strings:  ID_0 ID_1
</code></pre>
<p>Es un archivo S4 por lo que se utiliza "@" para acceder a su contenido. Por ejemplo:</p>
<pre><code class="language-r">head(argentina@data)
</code></pre>
<pre><code>##   ID_0 ISO    NAME_0 ID_1                 NAME_1           TYPE_1        ENGTYPE_1 NL_NAME_1
## 0   12 ARG Argentina    1           Buenos Aires        Provincia         Province      &lt;NA&gt;
## 1   12 ARG Argentina    2                Córdoba        Provincia         Province      &lt;NA&gt;
## 2   12 ARG Argentina    3              Catamarca        Provincia         Province      &lt;NA&gt;
## 3   12 ARG Argentina    4                  Chaco        Provincia         Province      &lt;NA&gt;
## 4   12 ARG Argentina    5                 Chubut        Provincia         Province      &lt;NA&gt;
## 5   12 ARG Argentina    6 Ciudad de Buenos Aires Distrito Federal Federal District      &lt;NA&gt;
##                                                                               VARNAME_1
## 0                                                                   Baires|Buenos Ayres
## 1                                                                               Cordova
## 2                                                                                  &lt;NA&gt;
## 3                                                        El Chaco|Presidente Juan Peron
## 4                                                                                  &lt;NA&gt;
## 5 BUENOS AIRES D.F.|Capital Federal|Distretto Federale|Distrito Federal|Federal Capital
</code></pre>
<p>Este tipo de archivos tiene una estructura complicada y hay varias librerías útiles. Con el fin de mantenernos dentro del tidyverse usaremos el enfoque de ggplot por capaz para graficar.
Primero necesitamos llevar la información del shapefile a un dataframe.</p>
<pre><code class="language-r"># Transformo a dataframe.
argentina_df &lt;- broom::tidy(argentina)
</code></pre>
<pre><code>## Regions defined for each Polygons
</code></pre>
<pre><code class="language-r"># id es la provincia
head(argentina_df)
</code></pre>
<pre><code>## # A tibble: 6 x 7
##    long   lat order hole  piece group id   
##   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;lgl&gt; &lt;fct&gt; &lt;fct&gt; &lt;chr&gt;
## 1 -60.2 -33.3     1 FALSE 1     0.1   0    
## 2 -60.2 -33.3     2 FALSE 1     0.1   0    
## 3 -60.2 -33.3     3 FALSE 1     0.1   0    
## 4 -60.2 -33.3     4 FALSE 1     0.1   0    
## 5 -60.2 -33.3     5 FALSE 1     0.1   0    
## 6 -60.2 -33.3     6 FALSE 1     0.1   0
</code></pre>
<p>Ahora genero un diccionario de ids con su respectiva provincia para poder linkear mi mapa con la data de incendios.</p>
<pre><code class="language-r">ids &lt;- cbind.data.frame(provincia = as.character(argentina@data$NAME_1), id = as.character(rownames(argentina@data))) %&gt;%
  mutate(provincia = as.character(provincia), id = as.character(id))
</code></pre>
<p>El dataframe generado a partir del shapefile tiene las coordenadas que forman cada provincia y el id. Ahora lo que haremos es pegarle la data de incendios para poder utilizarla sobre el mapa.
Está generado el log de los focos porque en una prueba intenté usar la data transformada para suavizar outliers pero no se verá en esta versión.</p>
<pre><code class="language-r"># Agrego provincia por ID y data de incendios a la data del shapefile.
argentina_df2 &lt;- argentina_df %&gt;% left_join(ids, by = &quot;id&quot;) %&gt;%
  left_join(sum_prov, by = &quot;provincia&quot;) %&gt;%
  mutate(focos = ifelse(is.na(focos),0.5,focos),
         logfocos = log(focos), 
         logfocos2 = logfocos - min(logfocos))
</code></pre>
<p>Por ahora vamos a poder ser capaces de graficar un mapa de argentina con sus provincias delimitadas y pintarlas según la cantidad de focos de incendio por ejemplo. Pero además vamos a querer agregar alguna forma sobre cada provincia. Por ejemplo un punto de distinto tamaño según el area afectada por cada foco en promedio. Para eso necesitamos localizar el centroide de cada poligono, es decir, el centro de cada provincia.
Para ellos usamos la librería <strong>RGEOS</strong>
Luego a cada centro le agrego la data que voy a querer usar. En este caso la superficie promedio afectada por foco de cada provincia.</p>
<pre><code class="language-r"># Calculo el centro de cada poligono (provincias)
# para obtener el &quot;centro&quot; donde iran los puntos o nombres.
centros &lt;- rgeos::gCentroid(argentina, byid = TRUE) %&gt;%
  as.data.frame() %&gt;%
  mutate(id = rownames(.))

# Agrego data relevante para el ploteo (superficie promedio)
centros2 &lt;- centros %&gt;% left_join(ids, by = &quot;id&quot;) %&gt;%
  left_join(sum_prov, by = &quot;provincia&quot;) %&gt;%
  mutate(focos = ifelse(is.na(focos),0.5,focos),
         sup = ifelse(is.na(sup),0,sup),
         log_sup_prom = log(sup_prom),
         sup_prom_sin_outlier = ifelse(sup_prom &gt; 150, 150,sup_prom) ) # esto es para suavizar el outlier. Buscar otro enfoque.
</code></pre>
<h3 id="grafico"><a class="toclink" href="../../2019/03/30/introduccion-a-graficos-con-mapas/#grafico">Grafico!</a></h3>
<p>Ya tenemos todo. Tenemos el mapa, tenemos la cantidad de focos de incendio por provincia y tenemos el centro de cada provincia donde vamos a incluir un punto que muestra la intensidad de los incendios.
Simplemente graficamos sigueindo la lógica por capas de ggplot.
Las provincias sin puntos son aquellas que no tuvieron ningún incendio.</p>
<pre><code class="language-r">ggplot() +
  geom_polygon(data = argentina_df2, aes(x=long, y = lat, group = group,  fill = focos), color = &quot;white&quot;) + # mapa de argentina
  # coloreado segun cantidad de focos
  coord_fixed(0.8) + # tamañp del mapa
  scale_fill_gradient2(&quot;Cantidad de Focos de incendio&quot;, low = &quot;white&quot;, mid = &quot;lightgreen&quot;, high = &quot;darkred&quot;) + # escala de colores para focos
  geom_point(data = centros2, aes(x = x, y = y, size = sup_prom_sin_outlier)) + # puntos por provincia con superficie promedio
  scale_size(name = &quot;Superficie Promedio Afectada (ha)&quot;,range = c(1,5)) + # escala de los puntos
  guides(fill = guide_legend(order = 1), # Orden de los leyendas a la derecha.
         size = guide_legend(order = 2)) # Por algun motivo esto discretizo la leyenda de focos
</code></pre>
<p><img alt="Image" src="../../img/2019-03-30-introduccion-a-graficos-con-mapas-unnamed-chunk-10-1.png" /></p>

    <nav class="md-post__action">
      <a href="../../2019/03/30/introduccion-a-graficos-con-mapas/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2018-11-10 00:00:00">2018-11-10</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/r/" class="md-meta__link">R</a></li>
        
        
          
          <li class="md-meta__item">
            
              6 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="como-correr-un-proyecto-con-r-en-google-cloud"><a class="toclink" href="../../2018/11/10/como-correr-un-proyecto-con-r-en-google-cloud/">Como correr un proyecto con R en Google Cloud</a></h2>
<p>Hay situaciones en que nuestras computadoras no alcanzan para correr ciertos algoritmos por la cantidad de memoria o núcleos que tenemos (y comprar otra no es una opción..). Una solución es correr nuestro proyecto en "la nube", es decir en servidores ajenos mantenidos por empresas. Los servicios de esta índole más conocidos son:</p>
<ul>
<li>Google Cloud</li>
<li>Amazon AWS</li>
<li>Microsoft Azure</li>
</ul>
<p>En este post usaremos el primero. Como es de esperar, estos servicios son pagos y si su negocio lo amerita son una gran opción. Igualmente Google Cloud ofrece U$S300 de regalo al crear una cuenta por lo que podrían hacer uso para algún proyecto o pruebas. Les aseguro que no es particularmente bajo el monto. Solo tienen que registrarse y asociar una tarjeta de crédito y no abonar nada.</p>
<p>Google Cloud ofrece un montón de servicios y opciones de las cuales presentaremos lo más básico pero igualmente suficiente para correr un xgboost en gigas y gigas de datos con cientos de variables je. </p>
<ol>
<li>Crear una máquina virtual instalando R</li>
<li>Crear un Bucket que sirve como Disco duro para guardar data, outputs, etc</li>
<li>Correr un algoritmo</li>
</ol>
<h3 id="maquina-virtual"><a class="toclink" href="../../2018/11/10/como-correr-un-proyecto-con-r-en-google-cloud/#maquina-virtual">Máquina Virtual</a></h3>
<p>Una vez registrados, lo primero que vamos a hacer es crear la máquina virtual e instalar R y ciertos paquetes.
Lamentablemente el proceso es bastante engorroso para quienes no conocen bash ni están familiarizados con Cloud. Es todo por consola y para nada intuitivo sin leer la documentación, que está en inglés.
Es un proceso largo y la documentación más clara que encontré se encuentra en este <a href="http://grantmcdermott.com/2017/05/30/rstudio-server-compute-engine/">BLOG</a>. 
No tiene sentido intentar decir lo mismo que él pero peor. Les recomiendo seguirlo y van a obtener una máquina virtual con Rstudio instalado y ciertas dependencias útiles para la mayoría de las librerías que se usan.</p>
<!-- lo tengo en la pc tambien por las dudas 
miran sino el dropbox https://www.dropbox.com/sh/8xzxv7erkeb3ncx/AADwqKGuOmXEPvy5pwNe7R1Ia/cloud?dl=0&subfolder_nav_tracking=1 -->

<h3 id="crear-bucket"><a class="toclink" href="../../2018/11/10/como-correr-un-proyecto-con-r-en-google-cloud/#crear-bucket">Crear Bucket</a></h3>
<p>Ir a 
<img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/bucket1.PNG" />{width=200px height=350px}
Clickear los 3 puntos a la derecha y entrar a "Create key"</p>
<p>Se les descargará un archivo .json que deben renombrar a <strong> privatekey_inicial.json </strong> .
Luego ir a:
<img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/bucket2.PNG" />{width=200px height=350px}</p>
<p>Crear un bucket cuyo nombre no tenga espacios ni caracteres raros. Va a pedirles que sea un nombre que no esté siendo usado por nadie más. 
Hecho esto el bucket está creado y se le pueden subir archivos. Luego desde los scripts también se le van a poder escribir directamente, es decir, guardar los outputs.
Ahora vamos a cambiar los permisos del bucket. Copiarse el account id desde aquí.
<img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/bucket3.PNG" />{width=350px height=200px}</p>
<p>Luego ir a storage y en los 3 puntitos de nuesto bucket clickear "Edit Bucket permissions" y pegar el ID.
<img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/bucket4.PNG" />{width=200px height=350px}</p>
<h3 id="crear-imagen"><a class="toclink" href="../../2018/11/10/como-correr-un-proyecto-con-r-en-google-cloud/#crear-imagen">Crear Imagen</a></h3>
<p>Lo que haremos ahora es crear una imagen de la maquina virtual que generamos (donde instalamos R) para poder levantar futuras máquinas y que directamente tengan instalado R y los paquetes si lo deseamos (invocando a esta imagen).
Dejo imágenes de un tutorial que van a ser más claras que yo.</p>
<p><img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/imagen 1.PNG" />{width=400px height=700px}</p>
<p><img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/imagen2.PNG" />{width=400px height=700px}</p>
<p><img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/imagen3.PNG" />{width=400px height=700px}</p>
<p>Luego ir a Compute Engine --&gt; Images</p>
<p><img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/imagen4.PNG" />{width=400px height=700px}</p>
<h4 id="status"><a class="toclink" href="../../2018/11/10/como-correr-un-proyecto-con-r-en-google-cloud/#status">Status</a></h4>
<p>Resumiendo brevemente:</p>
<ul>
<li>Tenemos una cuenta y U$S 300 disponibles.</li>
<li>Creamos una VM con R y paquetes.</li>
<li>Generamos una imagen de esa VM para poder retutilizarla.</li>
<li>Creamos un bucket donde almacenar inputs y outputs, linkeado a la imagen.</li>
</ul>
<p>Estamos casi listos. Falta correr algun script!</p>
<h3 id="como-correr-un-script-de-r"><a class="toclink" href="../../2018/11/10/como-correr-un-proyecto-con-r-en-google-cloud/#como-correr-un-script-de-r">Cómo correr un script de R.</a></h3>
<p>Una vez seteado todo lo anterior (y asegurándonos de haber apagado la maquina virtual utilizada) lo que debemos hacer es crear otras VM (instance) con los núcleos y Ram que cremos convenientes - esto depende totalmente de la complejidad del algoritmo que vayan a correr-, asignando una región donde preferentemente sea de noche o fin de semana para que esté menos saturada.
Lo más importante es cambiar el boot disk y seleccionar dentro de "custom" la imagen que hayamos generado con R. De esta manera la VM que iniciemos ya tendrá R, Rstudio y librerías instaladas.</p>
<p><img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/runscript1.PNG" />{width=200px height=350px}</p>
<p>Justo debajo de lo que se ve en la imagen hay opciones extras de "Management, security, disks", etc.
Depende la importancia de lo que estén haciendo puede ser bueno asegurarse que la opción <em>Preemptibility</em> esté OFF.
Si está ON, la VM se correrá en un servidor que máximo puede durar 24hs (posterior a eso se apaga automáticamente la VM) y más importante aún, están sujetos a disponibilidad de Google, es decir que si hay mucha demanda de servidores pueden apagarles el suyo sin consultar. Lo positivo es que son mucho más baratas.
Al tenerlo OFF, se aseguran que su VM estará encendida durante todo lo que tarde el script en correr y no va a depender de la demanda. Queda a criterio de cada uno.</p>
<p>Ya estamos listos para correr. Hay dos maneras sencillas:</p>
<ol>
<li><strong>Directo desde Rstudio en la VM.</strong></li>
</ol>
<p>Haciendo click en el IP de su instancia. Se abrirá Rstudio y deberán poner Usuario y Contraseña seteados durante la instalación.
Ahi pueden trabajar como si fuera directamente R. Recomiendo tener Script listo porque no es muy dinámico trabajar en vivo ahí.</p>
<p><img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/runscript2.PNG" />{width=200px height=350px}</p>
<ol>
<li><strong>Desde la terminal, llamando a script en el bucket.</strong></li>
</ol>
<p>Otra opción es subir su script al bucket que generaron y en Rstudio (como en 1.) ir a la terminal y correr:</p>
<pre><code class="language-r">Rscipt --vanilla ~/cloud/cloud1/pathToScript/script.r
</code></pre>
<p>O desde la consola (que basicamente system() simular ser la temrinal) :</p>
<pre><code class="language-r">system(Rscipt --vanilla ~/cloud/cloud1/pathToScript/script.r)
</code></pre>
<ol>
<li><strong>Desde la terminal de la instancia.</strong></li>
</ol>
<p><img alt="" src="/post/2018-11-10-como-correr-un-proyecto-con-r-en-google-cloud_files/runscript3.PNG" />{width=200px height=350px}</p>
<p>Y ahí deberían poder correr sin problema.</p>
<pre><code class="language-r">Rscipt --vanilla ~/cloud/cloud1/pathToScript/script.r
</code></pre>
<p>En cualquiera de los 3 casos presten atención a las rutas que usan en sus scripts para referenciar al bucket.
Si linkearon el bucket a la imagen de la VM como vimos en el post deberían poder usar la siguiente ruta genérica.</p>
<pre><code class="language-r">&quot;~/cloud/cloud1/RestoDelPath/&quot;
</code></pre>
<p>Y eso es todo. Ya pueden levantar una VM en google cloud y correr algoritmos con gigas y gigas de data sin quemar su PC! </p>

    <nav class="md-post__action">
      <a href="../../2018/11/10/como-correr-un-proyecto-con-r-en-google-cloud/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2018-11-03 00:00:00">2018-11-03</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/r/" class="md-meta__link">R</a></li>
        
        
          
          <li class="md-meta__item">
            
              4 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="organizacion-de-proyectos"><a class="toclink" href="../../2018/11/03/organizacion-de-proyectos/">Organización de Proyectos</a></h2>
<p>Este va a ser un breve post sobre cómo organizar los proyectos que hagan en R. Es al día de hoy la que utilizo y si googlean van a ver que existe y es usada en el ámbito. Puede ser esta tal cual o alguna alternativa similar.</p>
<p>El enfoque es muy sencillo e intuitivo. La idea es tener por separado cada componente del proyecto y de manera clara y segmentada para poder acceder rápidamente a lo necesario, ya sea código, datos, outputs, etc.</p>
<p>Primero y principal. <strong>CREEN UN PROYECTO</strong> en R. Esto va a facilitar todo el manejo de rutas, llamados a otros códigos y mismo para compartir si es necesario con otra gente ya que las rutas que utilicemos serán relativas a la ubicación en Disco del proyecto. Por lo tanto si el proyecto está creado en C:\ProyectoR y en algún codigo llamamos a <code>read.csv("/Datos/datos.csv")</code> esto funcionará en cualquier computadora donde el proyecto tenga en su directorio una carpeta "Datos", independientemente de la ruta donde se encuentre. Yo puedo mover toda la carpeta del proyecto a C:\OtraRuta y ejecutar ahí el read.csv sin tener que actualizar la ruta. Es uno de los problemas más básicos y molestos al trabajar con códigos ajenos o mover nuestros proyectos de lugar.</p>
<h3 id="carpetas"><a class="toclink" href="../../2018/11/03/organizacion-de-proyectos/#carpetas">Carpetas</a></h3>
<p>Una vez creado el proyecto, lo que sugerimos es crear una estructura de carpetas como la que se ve en la imagen siguiente.</p>
<p><img alt="" src="/post/2018-11-03-organizacion-de-proyectos/carpetas.PNG" /></p>
<p><em>DATA</em></p>
<p>Contiene la data que será el input de nuestros proyecto. A su vez podemos guardar archivos intermedios que hayamos ido procesando. Pueden adaptarlo como prefieran pero sugerimos guardar en "raw",la data que será input del análisis, ya sean csvs, txts, htmls, etc.
En "working"" ir guardando objetos importantes o que lleven tiempo de procesar asi se pueden leer directamente en vez de tener que correr el código nuevamente en una próxima sesión.
Para ellos se usa el comando <code>saveRDS()</code>.
En "final" guardar los objetos finales del análisis.</p>
<p><img alt="" src="/post/2018-11-03-organizacion-de-proyectos/data.PNG" /></p>
<p><em>DOCS</em> </p>
<p>Acá guardamos archivos auxiliares útiles como diccionarios de variables, links a webs, consignas, documentación, etc.</p>
<p><em>OUTPUT</em></p>
<p>Acá exportamos los resultados del análisis, desde gráficos que vayamos a usar en el reporte, el informe final que hagamos (PDF, HTML,etc), las conclusiones que saquemos, etc. Dependiendo de la complejidad del proyecto puede separar en carpetas al interior si hay outputs muy variados.</p>
<p><em>SRC</em></p>
<p>Carpeta para todo nuestro código. Algunos eligen no usarla y dejar los códigos en la ruta del proyecto pero me parece un poco desprolijo.
Recomendamos tener muchos scripts con títulos claros y segmentados por lo que hacen. Es decir, uno para levantar la data, otro para análisis exploratorio, otro para feature engineering y así. A su vez, recomendamos tener un script propio para la funciones que definan ustedes y si les resulta cómodo otro para las librerías, de manera tal de tener todo claro, separado y no tener que andar buscando dentro de un grán código lo que necesitan. Además es más sencillo para modificar y arreglar bugs. Recuerden que para invocar código de otro script simplemente lo corren usando <code>source("Script.R")</code>.
Dejamos un ejemplo ilustrativo.</p>
<p><img alt="" src="/post/2018-11-03-organizacion-de-proyectos/src.PNG" /></p>
<h3 id="github"><a class="toclink" href="../../2018/11/03/organizacion-de-proyectos/#github">GITHUB</a></h3>
<p>En algún otro post lo dijimos pero recomendamos altamente <strong>UTILIZAR GITHUB</strong> para manejar sus proyectos, tener backups, compartirlos y actualizarlos desde cualquier computadora!
Y hacer blogs como este siguiendo este <a href="https://fbetteo.netlify.com/2018/10/como-crear-un-blog-con-blogdown-y-netlify/">POST</a></p>
<p>Lo que también sugerimos es no subir la carpeta data a github por dos motivos. Primero por una cuestión de espacio, si tienen data muy pesada Github no les va a permitir incluirla en el repositorio.
Por otra parte si la data es confidencial o tiene datos privados mejor que no esté a disposición de cualquiera si tienen cuenta pública. Obviamente queda a criterio y comodidad de cada uno si corresponde subir la data o no.
Para evitar que una carpeta sea subida a github solo deben incluirla en el archivo .gitignore de su repositorio.</p>

    <nav class="md-post__action">
      <a href="../../2018/11/03/organizacion-de-proyectos/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2018-10-28 00:00:00">2018-10-28</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/estadistica/" class="md-meta__link">estadistica</a>, 
              <a href="../../category/r/" class="md-meta__link">R</a></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="curvas-roc"><a class="toclink" href="../../2018/10/28/curvas-roc/">Curvas ROC</a></h2>
<p>La curva ROC y AUC (area bajo la curva) permiten evaluar la eficacia de un modelo clasificador y elegir el mejor umbral de corte donde determinar qué observación es predicha positiva y cual negativa.</p>
<p>Vamos a generar rapidamente un clasificador con regresión logísitca utilizando el dataset <em>mtcars</em> ya provisto por R. Solo a modo ilustrativo utilizaremos AM (caja manual o automática) como la variable a predecir y mpg y drat como independientes. No separamos en train y test dadas las pocas observaciones.</p>
<pre><code class="language-r">library(tidyverse)
library(modelr)
library(pROC)
df &lt;- mtcars %&gt;% select(am, mpg, drat) %&gt;% mutate(am = as.factor(am))
summary(df)
</code></pre>
<pre><code>##  am          mpg             drat      
##  0:19   Min.   :10.40   Min.   :2.760  
##  1:13   1st Qu.:15.43   1st Qu.:3.080  
##         Median :19.20   Median :3.695  
##         Mean   :20.09   Mean   :3.597  
##         3rd Qu.:22.80   3rd Qu.:3.920  
##         Max.   :33.90   Max.   :4.930
</code></pre>
<pre><code class="language-r"># Clase dentro de todo balanceada

mdl.log &lt;- glm(formula = am ~., data = df, family = binomial(link=&quot;logit&quot;))
fit &lt;- predict(mdl.log, newdata = df, type = &quot;response&quot;)


roc(df[,1],  fit , percent=F,   boot.n=1000, ci.alpha=0.9, stratified=FALSE, plot=TRUE, grid=TRUE, show.thres=TRUE, legacy.axes = TRUE, reuse.auc = TRUE,
    # print.thres = c(0.30,0.35, 0.40, 0.45,0.48, 0.50,0.55, 0.60),#
    print.auc = TRUE, print.thres.col = &quot;blue&quot;, ci=TRUE, ci.type=&quot;bars&quot;, print.thres.cex = 0.7, main = paste(&quot;ROC curve using&quot;,&quot;(N = &quot;,nrow(df),&quot;)&quot;) )
</code></pre>
<p><img alt="Image" src="../../img/2018-10-28-curvas-roc-unnamed-chunk-1-1.png" /></p>
<pre><code>## 
## Call:
## roc.default(response = df[, 1], predictor = fit, percent = F,     ci = TRUE, plot = TRUE, boot.n = 1000, ci.alpha = 0.9, stratified = FALSE,     grid = TRUE, show.thres = TRUE, legacy.axes = TRUE, reuse.auc = TRUE,     print.auc = TRUE, print.thres.col = &quot;blue&quot;, ci.type = &quot;bars&quot;,     print.thres.cex = 0.7, main = paste(&quot;ROC curve using&quot;, &quot;(N = &quot;,         nrow(df), &quot;)&quot;))
## 
## Data: fit in 19 controls (df[, 1] 0) &lt; 13 cases (df[, 1] 1).
## Area under the curve: 0.9433
## 95% CI: 0.8695-1 (DeLong)
</code></pre>
<p>Básicamente entrenamos un modelo logístico y graficamos la curva ROC prediciendo sobre el mismo dataset con el que fue entrenado. No es lo adecuado pero dadas las pocas observaciones y el propósito explicativo no lo tomamos como un problema.
La curva ROC es la más oscura y como vemos empieza en (0,0) y termina en el (1,1).
El eje X es 1 - Especificidad (Falsos Negativos) y el eje Y es Sensitividad (Verdaderos Positivos) por lo tanto lo deseable es estar lo más arriba a la izquierda posible. El punto (0,1) sería óptimo ya que habría 0 falsos negativos y 100% de verdaderos positivos.</p>
<p>Lo que representa la curva es la combinación de Sensitividad y (1 - especificidad) para varios puntos de corte. Recordemos que la regresión logística devuelve un valor entre 0 y 1 por lo tanto hay que determinar en qué valor empezamos a considerar una predicción como positiva o negativa. En este caso positivo sería tener un valor de 1 en am, por lo tanto tener caja automática. Cada punto de la curva corresponde a algún punto de corte. Como decíamos antes, el mejor debería ser el más "arriba a la izquierda" aunque depende el problema eso puede cambiar, dependiendo del costo de equivocarse en uno u otro sentido.</p>
<p>El peor escenario es que la curva siga a la diagonal, lo que equivaldría a ser iguales a un modelo eligiendo siempre la clase mayoritaria, totalmente inútil. Si estuviera por debajo de la diagonal, sería peor aún, pero bastaría con invertir las predicciones para pasar a estar por encima. Un viejo truco no muy científico.</p>
<p>El área bajo la curva (AUC) es una medida resumen de la curva ROC ya que justamente describe el área entre la curva ROC y la diagonal. Valores mayores se corresponden con curvas ROC más alejadas de la diagonal y por lo tanto que separan mejor a la clase dependiente. Es útil para comparar modelos.</p>

    <nav class="md-post__action">
      <a href="../../2018/10/28/curvas-roc/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2018-10-07 00:00:00">2018-10-07</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/r/" class="md-meta__link">R</a>, 
              <a href="../../category/blog/" class="md-meta__link">blog</a></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="como-crear-un-blog-con-blogdown-y-netlify"><a class="toclink" href="../../2018/10/07/como-crear-un-blog-con-blogdown-y-netlify/">Como crear un blog con Blogdown y Netlify</a></h2>
<p>En este post vamos a ver el proceso reusmido para crear un blog donde podemos generar contenido directamente desde RStudio, utilizando el paquete <a href="https://bookdown.org/yihui/blogdown/">blogdown</a>, <a href="https://www.github.com">Github</a> y <a href="https://www.netlify.com">Netlify</a>.
La idea es que al finalizar la configuración, simplemente creemos el post en Rstudio (un markdown) usando blogdown y que al subirlo a github automaticamente se actualice el blog y se vea reflejado en nuestra página. Es lo que estoy haciendo en este momento.</p>
<p>Lo primero y más importante más allá de este tema en particular es tener una cuenta en github. Si no la tienen se los recomiendo ampliamente para hacer version control - <em>actualizar código de forma segura y con backups constantes en un servidor + compartir proyectos</em>. Es gratis, al menos la versión básica que alcanza y sobra para el uso cotidiano. 
En nuestro repositorio crearemos un proyecto para el blog y ahi se subirán nuestros posts en formato html. A su vez, estará el theme y otras configuraciones básicas del blog.  </p>
<p>Lo segundo es instalar el paquete blogdown en nuestro R. Es una obra maestra de Yihui Xie, ingeniero de RStudio y creador de varios paquetes.
En un nuevo proyecto de R, ejecutan el siguiente comando.</p>
<pre><code class="language-r">blogdown::new_site()
</code></pre>
<p>Con eso ya tienen generado la estructura básica de lo que será su blog. Se crearán carpetas y archivos en la ruta del proyecto con contenido de prueba para tener algo funcional.
Blogdown es bastante complejo y hay un millón de configuraciones y detalles que uno puede personalizar. No entraremos en eso acá porque se haría super extenso. Para eso está la <a href="https://bookdown.org/yihui/blogdown/">documentación oficial</a> <em>en ingles</em>.</p>
<p>Eventualmente van a tener que cambiar el archivo config.toml con ciertos pasos de la guía y luego podrán explorar todas las posibilidades que presenta. Entre ellas pueden (y recomiendo) descargar otro theme para cambiar el formato. El que uso actualmente es <a href="https://github.com/kakawait/hugo-tranquilpeak-theme">tranquilpeak</a>.</p>
<p>Para crear un post nuevo simplemente escriben el comando.</p>
<pre><code class="language-r">blogdown::new_post()
</code></pre>
<p>Lo cual genera un script con un YAML, que es la configuración con el título, tags y otros metadatos del post. Simplemente escriben como cualquier markdown debajo.
Cuando terminan el post (o mientras para ir visualizando como queda) corren </p>
<pre><code class="language-r">blogdown::serve_site()
</code></pre>
<p>Lo cual generará el archivo html correspondiente que luego será usado en su web y les permite ver el resultado temporal de su post.</p>
<p>Luego lo que deben hacer es pushear  la carpeta que se les generó del blog a su repositorio en github. O al menos las carpetas y archivos que se ven en la siguiente imagen. <strong>Public</strong> no la pusheen.</p>
<p><img alt="gitsnap" src="/post/2018-10-07-como-crear-un-blog-con-blogdown-y-netlify/figure-html/GitSnapshot.PNG" /></p>
<p>Llegado a este punto tenemos el contenido inicial del blog, pero no hay sitio web. Ahí es donde entra en juego Netlify.
No vamos a entrar en el paso a paso minucioso pero básicamente deben crearse una cuenta, generar una nueva web y linkearla a su repositorio Github. Es bastante lineal. Luego configuran el nombre de la web y otros detalles y en cuestión de minutos ya están publicados! (Y Gratis.)
Para ver bien esta etapa les recomiendo la explicación del link de blogdown.</p>
<p>Una vez puesto en marcha solo es cuestión de abrir su proyecto en R (en su pc), crear un nuevo post con blogdown::new_post() y pushear a github!
Prueben chusmeando todas las configuraciones para cambiar la estética del blog!</p>

    <nav class="md-post__action">
      <a href="../../2018/10/07/como-crear-un-blog-con-blogdown-y-netlify/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2018-09-01 00:00:00">2018-09-01</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/r/" class="md-meta__link">R</a></li>
        
        
          
          <li class="md-meta__item">
            
              3 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="hola-map-chau-apply"><a class="toclink" href="../../2018/09/01/hola-map-chau-apply/">Hola MAP. Chau Apply</a></h2>
<h3 id="introduccion"><a class="toclink" href="../../2018/09/01/hola-map-chau-apply/#introduccion">Introducción</a></h3>
<p>La idea de este post es introducirlos a la familia de funciones <strong>MAP</strong>, propias de <a href="https://www.tidyverse.org/">tidyverse</a>.
A grandes rasgos son un remplazo MUY útil a la familia de funciones <strong>APPLY</strong>, propias de R base. Estas últimas se suelen enseñar en todos los cursos introductorios de R, como la manera correcta de aplicar funciones a listas o columnas de dataframes. 
No es que no sirvan, pero dado el surgimiento de tantas librerías que facilitan el manejo de la data, no tiene sentido seguir insistiendo con ellas dado que hay nuevas con mayor flexibilidad, muy sencillas de utilizar y mucho más amenas.</p>
<ul>
<li>Lo mejor que tienen las funciones MAP es:<ul>
<li>Consistencia en los inputs.</li>
<li>Flexibilidad del output.</li>
<li>Integración con todo el universo tidyverse y prolijidad.</li>
</ul>
</li>
</ul>
<p>Empecemos.</p>
<pre><code class="language-r">library(purrr) # MAP está contenida acá
library(dplyr)
</code></pre>
<pre><code>## Warning: package 'dplyr' was built under R version 4.0.5
</code></pre>
<p>Como regla general, MAP aplica funciones a elementos de una lista o de un vector.
Su output es otra lista. Muy similar a lapply().</p>
<pre><code class="language-r">l1 &lt;- list( a= c(100,200), b = c(8,10))
map(l1, max)
</code></pre>
<pre><code>## $a
## [1] 200
## 
## $b
## [1] 10
</code></pre>
<p>A cada lista le calcula el máximo y devuelve una lista con cada elemento siendo el resultado de la función.</p>
<p>Tenemos la flexibilidad para pasarle funciones anónimas..</p>
<pre><code class="language-r">map(l1, function(x) max(x))
</code></pre>
<pre><code>## $a
## [1] 200
## 
## $b
## [1] 10
</code></pre>
<p>Aplicando funciones a elementos de un vector.
Cada numero de 1 a 5 es usado como primer input de la funcion <em>rnorm</em>, sd y n son otros parámetros de rnorm.
El resultado de nuevo es una lista.</p>
<pre><code class="language-r">set.seed(1)
1:5 %&gt;% map(., rnorm,sd =2, n=5)
</code></pre>
<pre><code>## [[1]]
## [1] -0.2529076  1.3672866 -0.6712572  4.1905616  1.6590155
## 
## [[2]]
## [1] 0.3590632 2.9748581 3.4766494 3.1515627 1.3892232
## 
## [[3]]
## [1]  6.023562  3.779686  1.757519 -1.429400  5.249862
## 
## [[4]]
## [1] 3.910133 3.967619 5.887672 5.642442 5.187803
## 
## [[5]]
## [1] 6.837955 6.564273 5.149130 1.021297 6.239651
</code></pre>
<h3 id="consistencia-entre-variantes"><a class="toclink" href="../../2018/09/01/hola-map-chau-apply/#consistencia-entre-variantes">Consistencia entre variantes</a></h3>
<p>Por ahora solo vimos la versión de lapply en MAP, pero esta familia tiene varios integrantes.</p>
<h3 id="map_if"><a class="toclink" href="../../2018/09/01/hola-map-chau-apply/#map_if">map_if</a></h3>
<p>Ejecuta la función solo si el elemento cumple determinada condición.
Devuelve una lista.</p>
<pre><code class="language-r">l2 &lt;- list(a = 213, b = &quot;string&quot;, c = c(1,2))
map_if(l2, is.numeric, function(x) x*2)
</code></pre>
<pre><code>## $a
## [1] 426
## 
## $b
## [1] &quot;string&quot;
## 
## $c
## [1] 2 4
</code></pre>
<p>El output es la lista original con los elementos correspondientes transformados. Vemos que no hubo ningún problema con
"string" ya que fue omitido.</p>
<h3 id="map_at"><a class="toclink" href="../../2018/09/01/hola-map-chau-apply/#map_at">map_at</a></h3>
<p>Ejecuta la función solo en los elementos que seleccionemos. No hace falta que cumplan alguna condición.
Misma función de antes pero solo aplicada al tercer elemento. Devuelve una lista.</p>
<pre><code class="language-r">map_at(l2, c(3), function(x) x*2)
</code></pre>
<pre><code>## $a
## [1] 213
## 
## $b
## [1] &quot;string&quot;
## 
## $c
## [1] 2 4
</code></pre>
<p>Variantes súper útiles que permiten no utilizar loops y que dan mucho control de manera sencilla sobre las funciones a ejecutar. Por otra parte, en términos de consistencia, la estructura es siempre la misma. El primer argumento es x= y luego viene la función a aplicar. En el caso de map_if y map_at entre medio surge el condicionante.
Si recuerdan, la familia apply cambia el orden de los inputs según si es apply, lapply, mapply, sapply...</p>
<h2 id="flexibilidad-del-output"><a class="toclink" href="../../2018/09/01/hola-map-chau-apply/#flexibilidad-del-output">Flexibilidad del output</a></h2>
<p>Por el momento vimos que todos los outputs eran listas. Lo interesante es que podemos controlar eso y cambiar el formato del resultado, ahorrándonos conversiones molestas con <em>unlist</em> y etc.</p>
<pre><code class="language-r">l3 &lt;- list(c(1,2,4), c(100,200), c(5000,6000))
map_dbl(l3, max)
</code></pre>
<pre><code>## [1]    4  200 6000
</code></pre>
<p>Nos devuelve un vector con los resultados de aplicar la función max a cada elemento!</p>
<p>De este mismo tipo esta.</p>
<ul>
<li>map_chr # vector caracter</li>
<li>map_int # vector de integers</li>
<li>map_lgl # vector de booleanos</li>
</ul>

    <nav class="md-post__action">
      <a href="../../2018/09/01/hola-map-chau-apply/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
        <article class="md-post md-post--excerpt">
  <header class="md-post__header">
    
    <div class="md-post__meta md-meta">
      <ul class="md-meta__list">
        <li class="md-meta__item">
          <time datetime="2018-08-25 00:00:00">2018-08-25</time></li>
        
          <li class="md-meta__item">
            in
            
              <a href="../../category/matematica/" class="md-meta__link">matematica</a></li>
        
        
          
          <li class="md-meta__item">
            
              4 min read
            
          </li>
        
      </ul>
      
    </div>
  </header>
  <div class="md-post__content md-typeset">
    <h2 id="cadenas-de-markov"><a class="toclink" href="../../2018/08/25/cadenas-de-markov/">Cadenas de Markov</a></h2>
<p>Las cadenas de Markov son herramientas muy útiles para modelar transiciones entre estados. Imaginemos un escenario sencillo con dos posibles estados: día de lluvia o día soleado. En el momento <strong>t</strong> el estado supongamos que es "día soleado". ¿Cuál será el estado en <strong>t+1</strong> ? Dadas las probabilidades de transición de un estado a otro podemos simular escenarios tras el paso del tiempo. Mismo en algunos casos puede ser útil entender si en el largo plazo esta simulación converge hacia algún resultado estable en el tiempo.</p>
<p>Mostraremos ejemplos sencillos, pero la metodología es escalable a procesos complejos como pueden usarse en meteorología, aplicaciones financieras, etc. El <a href="http://blog.kleinproject.org/?p=1605&amp;lang=es">algoritmo de búsqueda de Google</a> está basado en cadenas de Markov, para que vean la utilidad. [^1]</p>
<p>Lo que necesitamos para este ejercicio son las probabilidades de transición de un estado a otro y los valores iniciales en cada estado.</p>
<p>Supongamos una clase de estadística con n estudiantes, en la que dos estados son posibles. 
Estado A : El alumno está atento.
Estado B : El alumno está aburrido.</p>
<ul>
<li>Las probablidades son las siguientes: <ul>
<li>En t+1 el 80% de A sigue en A (y por lo tanto el 20% de A pasa a B)</li>
<li>En t+1 el 25% de B pasa a A (y por lo tanto el 75% de B queda en B)</li>
</ul>
</li>
</ul>
<p>La matriz que representa esa probabilidades la vamos a llamar * Matriz de Transición *.</p>
<pre><code class="language-r">tmatrix &lt;-  as.matrix(c(0.8,0.25))  
# 80% de A sigue en A, 25% de B pasa a A en t+1

tmatrix &lt;- t(tmatrix) 
# trasponemos porque necesitamos esta información en la primera fila.

tmatrix &lt;- rbind(tmatrix, 1 - tmatrix[1,]) 
# Agregamos la segunda fila, que es 1 menos la primera.

tmatrix # Matriz de transción
</code></pre>
<pre><code>##      [,1] [,2]
## [1,]  0.8 0.25
## [2,]  0.2 0.75
</code></pre>
<p>La matriz de valores iniciales es la siguiente:
En un primero momento (t), el 10% de los alumnos está atento y el 90% aburrido.</p>
<pre><code class="language-r">smatrix &lt;- as.matrix(c(0.1,0.9)) # Matriz inicial, 10% Atento, 90% aburridos
</code></pre>
<p>Ya tenemos toda la información necesaria para hacer nuestras primeras simulaciones.
Supongamos que cada período de tiempo son 10 minutos, por lo tanto si t es el momento 0, t+1 es a los 10 de minutos de empezada la clase, t+2 a los 20 y así sucesivamente.</p>
<p>Para evaluar el porcentaje de alumnos concentrados en determinado momento de la clase lo que debemos hacer es multiplicar la matriz de estado inicial por la matriz de transición tantas veces como momentos a futuro querramos simular.</p>
<p>Por ejemplo si queremos ver que pasará con nuestros alumnos luego de 20 minutos de clase debemos multiplicar smatrix * tmatrix 2 veces.</p>
<pre><code class="language-r">for (i in 1:2){            # Loopeamos 2 veces. %*% es la multiplicacion matricial.
  smatrix = tmatrix %*% smatrix  
# smatrix va tomando nuevos valores en cada iteracion, 
# reflejando el movimiento de un estado a otro
}

smatrix  # Despues de 2 iteraciones -&gt; A 42% , B 58%
</code></pre>
<pre><code>##         [,1]
## [1,] 0.41775
## [2,] 0.58225
</code></pre>
<p>Vemos que luego de 2 transiciones el estado A está compuesto por casi 42% de alumnos (concentrados) y 58% no atentos. Son movimientos bastante rápidos de un estado a otro.</p>
<p>Veamos qué pasa luego de 10 iteraciones.</p>
<pre><code class="language-r">smatrix &lt;- as.matrix(c(0.1,0.9)) # Reseteamos smatrix a su estado inicial

for (i in 1:10){           
# Loopeamos 10 veces. %*% es la multiplicacion matricial.
  smatrix = tmatrix %*% smatrix   
# smatrix va tomando nuevos valores en cada iteracion, 
# reflejando el movimiento de un estado a otro
}

smatrix  # Despues de 10 iteraciones -&gt; A 55% , B 45%
</code></pre>
<pre><code>##           [,1]
## [1,] 0.5544017
## [2,] 0.4455983
</code></pre>
<p>Luego de 10 movimientos, A pasa a tener el 55% de los alumnos dejando a 45% en B (no atentos). En este ejemplo con el paso del tiempo los alumnos se concentran más y más en la clase. Pero es este un proceso continuo e infinito? Llega un momento en que dada la matriz de transción todos los alumnos pasan a estar en el estado A, es decir, atentos?</p>
<p>Para analizar esto podemos ver qué sucede luego de 1000 iteraciones (sería una clase muy muy larga...)</p>
<pre><code class="language-r">smatrix &lt;- as.matrix(c(0.1,0.9)) # Reseteamos smatrix a su estado inicial

for (i in 1:1000){  # Loopeamos 10 veces. %*% es la multiplicacion matricial.
  smatrix = tmatrix %*% smatrix  
# smatrix va tomando nuevos valores en cada iteracion,
# reflejando el movimiento de un estado a otro
}

smatrix  # Despues de 1000 iteraciones -&gt; A 55% , B 45%
</code></pre>
<pre><code>##           [,1]
## [1,] 0.5555556
## [2,] 0.4444444
</code></pre>
<p>El resultado es casi idéntico luego de 1000 iteraciones al intento de tan solo 10 iteraciones. Por lo tanto podemos ver que esta cadena de Markov converge rápidamente a 55% en A y 45% en B. Es un estado estacionario del cual no podemos movernos dada la matriz de transición que tenemos.</p>
<p>Este ejemplo sencillo permite ver la intuición detrás de esta potente herramienta en unos pocos pasos. Obviamente como comentamos antes se puede utilizar para procesos mucho más complejos y de muy diversas areas. 
Queríamos mostrar los fundamentos con una aplicación rápida y que se comprenda que lo que se requiere es una matriz de transición y un estado inicial.</p>
<p>[^1]: Para una explicación gráfica y muy didáctica dejamos el siguiente <a href="http://setosa.io/ev/markov-chains/">link en inglés.</a></p>

    <nav class="md-post__action">
      <a href="../../2018/08/25/cadenas-de-markov/">
        Continue reading
      </a>
    </nav>
  </div>
</article>
      
      
        
          



<nav class="md-pagination">
  <a class="md-pagination__link" href="../../">1</a> <a class="md-pagination__link" href="../2/">2</a> <span class="md-pagination__current">3</span> <a class="md-pagination__link" href="../4/">4</a>
</nav>
        
      
    </div>
  </div>

          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../../../interests/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Interests" rel="prev">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Interests
              </div>
            </div>
          </a>
        
        
          
          <a href="../../category/estadistica/" class="md-footer__link md-footer__link--next" aria-label="Next: estadistica" rel="next">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                estadistica
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tabs.link", "content.tooltips", "header.autohide", "navigation.expand", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.prefetch", "navigation.instant.progress", "navigation.prune", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../../../assets/javascripts/workers/search.dfff1995.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.dff1b7c8.min.js"></script>
      
        <script src="../../../javascripts/mathjax.js"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>